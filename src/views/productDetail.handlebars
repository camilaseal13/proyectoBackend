
<h1>{{product.title}}</h1>

<p><strong>Descripción:</strong> {{product.description}}</p>
<p><strong>Precio:</strong> ${{product.price}}</p>
<p><strong>Categoría:</strong> {{product.category}}</p>
<p><strong>Stock:</strong> {{product.stock}}</p>

<button onclick="addToCart('{{product._id}}')">Agregar al carrito</button>

<script>
function addToCart(productId) {
  const cartId = localStorage.getItem("cartId");
  if (!cartId) {
    return alert("No hay un carrito creado. Crea o selecciona uno.");
  }

  fetch(`/api/carts/${cartId}/products/${productId}`, {
    method: "POST"
  }).then(res => {
    if (res.ok) {
      alert("Producto agregado al carrito");
    } else {
      alert("Error al agregar al carrito");
    }
  });
}
</script>
